<Window x:Class="ComfyX.Dialogs.LicenseDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="License Activation"
        Width="480" Height="400"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize"
        ShowInTaskbar="False">

    <Border Background="{StaticResource BgPrimaryBrush}"
            BorderBrush="{StaticResource NeonCyanBrush}"
            BorderThickness="1"
            CornerRadius="12">
        <Grid Margin="24">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>    <!-- Title bar -->
                <RowDefinition Height="Auto"/>    <!-- Status icon area -->
                <RowDefinition Height="Auto"/>    <!-- License key input -->
                <RowDefinition Height="Auto"/>    <!-- Status info -->
                <RowDefinition Height="*"/>       <!-- Spacer -->
                <RowDefinition Height="Auto"/>    <!-- Buttons -->
            </Grid.RowDefinitions>

            <!-- Title Bar -->
            <Grid Grid.Row="0" Margin="0,0,0,16" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <TextBlock Text="License Activation"
                           Foreground="{StaticResource NeonCyanBrush}"
                           FontSize="18" FontWeight="Bold"/>
                <Button Content="âœ•"
                        HorizontalAlignment="Right"
                        Style="{StaticResource ModernButton}"
                        Width="28" Height="28" Padding="0"
                        FontSize="14"
                        Click="BtnClose_Click"/>
            </Grid>

            <!-- Status Icon -->
            <StackPanel Grid.Row="1" HorizontalAlignment="Center" Margin="0,8,0,16">
                <Border x:Name="StatusIconBorder"
                        Width="64" Height="64"
                        CornerRadius="32"
                        Background="#1A1A2E"
                        BorderBrush="{StaticResource TextMutedBrush}"
                        BorderThickness="2">
                    <TextBlock x:Name="StatusIcon"
                               Text="ðŸ”‘"
                               FontSize="28"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                </Border>
                <TextBlock x:Name="StatusTitle"
                           Text="Enter your license key"
                           Foreground="{StaticResource TextPrimaryBrush}"
                           FontSize="14" FontWeight="SemiBold"
                           HorizontalAlignment="Center"
                           Margin="0,12,0,0"/>
            </StackPanel>

            <!-- License Key Input -->
            <Grid Grid.Row="2" Margin="0,0,0,12">
                <TextBox x:Name="LicenseKeyBox"
                         Style="{StaticResource ModernTextBox}"
                         FontSize="13"
                         FontFamily="Consolas"
                         Height="38"
                         VerticalContentAlignment="Center"
                         MaxLength="64"/>
                <TextBlock x:Name="KeyPlaceholder"
                           Text="XXXX-XXXX-XXXX-XXXX"
                           IsHitTestVisible="False"
                           Foreground="{StaticResource TextMutedBrush}"
                           FontSize="13" FontFamily="Consolas"
                           VerticalAlignment="Center"
                           Margin="14,0,0,0"/>
            </Grid>

            <!-- Status Info Panel -->
            <Border Grid.Row="3"
                    x:Name="InfoPanel"
                    Background="#0D0D1A"
                    CornerRadius="8"
                    Padding="16,12"
                    Visibility="Collapsed">
                <StackPanel>
                    <Grid Margin="0,0,0,6">
                        <TextBlock Text="Status" Foreground="{StaticResource TextSecondaryBrush}" FontSize="11"/>
                        <TextBlock x:Name="txtLicenseStatus"
                                   HorizontalAlignment="Right"
                                   Foreground="{StaticResource SuccessBrush}"
                                   FontSize="11" FontWeight="SemiBold"/>
                    </Grid>
                    <Grid Margin="0,0,0,6">
                        <TextBlock Text="Type" Foreground="{StaticResource TextSecondaryBrush}" FontSize="11"/>
                        <TextBlock x:Name="txtLicenseType"
                                   HorizontalAlignment="Right"
                                   Foreground="{StaticResource TextPrimaryBrush}"
                                   FontSize="11"/>
                    </Grid>
                    <Grid Margin="0,0,0,6">
                        <TextBlock Text="Expires" Foreground="{StaticResource TextSecondaryBrush}" FontSize="11"/>
                        <TextBlock x:Name="txtLicenseExpires"
                                   HorizontalAlignment="Right"
                                   Foreground="{StaticResource TextPrimaryBrush}"
                                   FontSize="11"/>
                    </Grid>
                    <Grid>
                        <TextBlock Text="Activations" Foreground="{StaticResource TextSecondaryBrush}" FontSize="11"/>
                        <TextBlock x:Name="txtLicenseActivations"
                                   HorizontalAlignment="Right"
                                   Foreground="{StaticResource TextPrimaryBrush}"
                                   FontSize="11"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Status Message -->
            <TextBlock Grid.Row="4"
                       x:Name="txtStatusMessage"
                       Foreground="{StaticResource ErrorBrush}"
                       FontSize="11"
                       TextWrapping="Wrap"
                       Margin="0,8,0,0"
                       Visibility="Collapsed"/>

            <!-- Buttons -->
            <StackPanel Grid.Row="5"
                        Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Margin="0,16,0,0">
                <Button x:Name="btnDeactivate"
                        Content="Deactivate"
                        Style="{StaticResource DangerButton}"
                        Width="100" Height="34"
                        Margin="0,0,8,0"
                        Visibility="Collapsed"
                        Click="BtnDeactivate_Click"/>
                <Button x:Name="btnActivate"
                        Content="Activate"
                        Style="{StaticResource PrimaryButton}"
                        Width="100" Height="34"
                        Click="BtnActivate_Click"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
